{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Numbers.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","handleFilterName","type","onChange","PersonForm","handleSubmit","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","Numbers","flag","persons","filterPersons","handleDelete","map","item","name","number","onClick","id","baseUrl","personService","getAll","axios","get","then","response","data","create","newPerson","post","deletePerson","delete","update","newObject","put","Notification","message","style","color","fontWeight","borderStyle","borderRadius","padding","marginBottom","background","App","useState","setPersons","setNewName","setNewNumber","filterFlag","setFilterFlag","setFilterPersons","errorMessage","setErrorMessage","useEffect","event","target","toLowerCase","names","filter","indexOf","preventDefault","window","confirm","person","find","setTimeout","catch","error","status","p","concat","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.775c31ae.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ handleFilterName }) => (\r\n    <div>filter shown with: <input type='text' onChange={handleFilterName} /></div>\r\n)\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({ handleSubmit, newName, handleNameChange, newNumber, handleNumberChange }) => (\r\n    <form onSubmit={handleSubmit}>\r\n        <div>\r\n            name: <input value={newName} onChange={handleNameChange} />\r\n        </div>\r\n        <div>\r\n            number: <input value={newNumber} onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">add</button>\r\n        </div>\r\n    </form>\r\n)\r\n\r\nexport default PersonForm","import React from \"react\"\r\n\r\nconst Numbers = ({ flag, persons, filterPersons, handleDelete }) => {\r\n    if (!flag) {\r\n        return <div>{persons.map(item =>\r\n            <div key={item.id}>\r\n                {item.name} {item.number}\r\n                <button onClick={() => handleDelete(item)}>delete</button>\r\n            </div>)}\r\n        </div>\r\n    } else {\r\n        return <div>{filterPersons.map(item =>\r\n            <div key={item.id}>\r\n                {item.name} {item.number}\r\n                <button onClick={() => handleDelete(item)}>delete</button>\r\n            </div>)}\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default Numbers","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newPerson) => {\r\n    const request = axios.post(baseUrl, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst personService = {\r\n    getAll,\r\n    create,\r\n    deletePerson,\r\n    update,\r\n}\r\n\r\nexport default personService","const Notification = ({ message }) => {\r\n    const style = {\r\n        color: 'green',\r\n        fontWeight: 'bold',\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n        background: 'lightgrey'\r\n    }\r\n\r\n    if (message === null) {\r\n        return null\r\n    }\r\n    return (\r\n        <div style={style}>{message}</div>\r\n    )\r\n\r\n}\r\n\r\nexport default Notification","import React, { useEffect, useState } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Numbers from './components/Numbers'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterFlag, setFilterFlag] = useState(false)\n  const [filterPersons, setFilterPersons] = useState([])\n  const [errorMessage, setErrorMessage] = useState('no error presently')\n\n  useEffect(() => {\n    personService.getAll()\n      .then(persons => {\n        setPersons(persons)\n      })\n  }, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    const names = persons.map(item => item.name)\n    const newObject = {\n      name: newName,\n      number: newNumber\n    }\n    if (names.indexOf(newName) >= 0) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const person = persons.find(item => item.name === newName)\n        personService.update(person.id, newObject)\n          .then(response => {\n            setPersons(persons.map(item => item.name !== newName ? item : response))\n            setErrorMessage(`${newName}'number is replaced`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000);\n          })\n          .catch(error => {\n            if (error.response.status === 400) {\n              setErrorMessage(error.response.data.error)\n            } else {\n              setErrorMessage(`${newName} has already been deleted from server`)\n              setPersons(persons.filter(p => p.name !== newName))\n            }\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000);\n          })\n      }\n    } else {\n      personService.create(newObject)\n        .then(response => {\n          setPersons(persons.concat(response))\n          setFilterFlag(false)\n          setErrorMessage(`${newName} is added successfully`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000);\n        }).catch(error => {\n          setErrorMessage(error.response.data.error)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000);\n        })\n    }\n  }\n\n  const handleFilterName = (event) => {\n    const name = event.target.value.toLowerCase()\n    const names = persons.filter(item => item.name.toLowerCase().indexOf(name) >= 0)\n    setFilterPersons(names)\n    setFilterFlag(true)\n  }\n\n  const handleDelete = (item) => {\n    if (window.confirm(`Delete ${item.name}?`)) {\n      personService.deletePerson(item.id)\n        .then(() => {\n          setPersons(persons.filter(p => p.id !== item.id))\n          setErrorMessage(`${item.name} is deleted`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000);\n        })\n        .catch(error => console.log(error))\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} />\n      <Filter handleFilterName={handleFilterName} />\n      <h2>add a new</h2>\n      <PersonForm handleSubmit={handleSubmit}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <Numbers flag={filterFlag} persons={persons} filterPersons={filterPersons} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}